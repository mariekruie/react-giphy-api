(this.webpackJsonpgiffy=this.webpackJsonpgiffy||[]).push([[0],{27:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),i=n(19),s=n.n(i),o=n(3),u=n(5),l=n(7),d=n(6),j=n(11),h=n(2),p=n(15),b=n(16),f=(n(27),n(1)),m=b.a.div(r||(r=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 80px;\n    border: 7px solid;\n    margin-bottom: 1rem;\n    border-image-slice: 1;\n  border-width: 5px;\n    border-image-source: var(--gradient-bg);\n"]))),g=b.a.ul(a||(a=Object(p.a)(["\n    display: flex;\n    width: 50%;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0;\n    list-style-type: none;\n    a {\n        padding: 0.5rem;\n        font-size: 2.5rem;\n        background: var(--gradient-bg);\n        -webkit-background-clip: text;\n        -webkit-text-fill-color: transparent;\n        transition: all 0.6s ease-in;\n    }\n    a:focus{\n        background: white;\n        -webkit-background-clip: text;\n        -webkit-text-fill-color: transparent;\n        font-weight:600;\n    }\n    a:hover {\n        color: rgb(46, 28, 85);\n    }\n    a{\n        text-decoration: none;\n        color: white;\n    }\n"]))),v=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(m,{children:Object(f.jsxs)(g,{children:[Object(f.jsx)(j.b,{className:"header-link",to:"/",children:"GIF-\u043a\u0438"}),Object(f.jsx)(j.b,{className:"header-link",to:"/stickers",children:"\u0421\u0442\u0438\u043a\u0435\u0440\u044b"})]})})})},x=n.p+"static/media/search-solid.cc51b702.svg",O=(n(31),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={query:null},e.handleInput=function(t){e.setState({query:t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.handleQuery,t=this.state.query;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:"search-form",onSubmit:function(n){n.preventDefault(),e(t)},children:[Object(f.jsx)("input",{className:"search-input",placeholder:"\u043d\u0430\u0439\u0442\u0438 gif",onChange:this.handleInput}),Object(f.jsx)("button",{type:"submit",className:"search-btn",children:Object(f.jsx)("img",{src:x,alt:"a"})})]})})}}]),n}(c.Component)),y=n(8),k=n.n(y),w=n(10),S=function e(){var t=this;Object(o.a)(this,e),this.getResource=function(){var e=Object(w.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if(r=e.sent){e.next=5;break}throw new Error("Could not fetch ".concat(n,", status: ").concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTrendingGif=Object(w.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("gifs/trending?".concat(t.api_key,"&limit=25&rating=g"));case 2:return n=e.sent,e.abrupt("return",n.data.map(t._transformGif));case 4:case"end":return e.stop()}}),e)}))),this.getSearchGif=function(){var e=Object(w.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("gifs/search?".concat(t.api_key,"&q=").concat(n,"&limit=25&offset=0&rating=g&lang=ru"));case 2:return r=e.sent,console.log("Searh data has been recieved"),e.abrupt("return",r.data.map(t._transformGif));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformGif=function(e){return{id:e.id,title:e.title,url:e.images.fixed_height.url}},this.getTrendingSticker=Object(w.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("stickers/trending?".concat(t.api_key,"&limit=25&rating=g"));case 2:return n=e.sent,e.abrupt("return",n.data.map(t._transformSticker));case 4:case"end":return e.stop()}}),e)}))),this.getSearchSticker=function(){var e=Object(w.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("stickers/search?".concat(t.api_key,"&q=").concat(n,"&limit=25&rating=g&lang=ru"));case 2:return r=e.sent,e.abrupt("return",r.data.map(t._transformSticker));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformSticker=function(e){return{id:e.id,title:e.title,url:e.images.fixed_height.url}},this._apiBase="https://api.giphy.com/v1/",this.api_key="api_key=D9qSL0PObXXf0KxOyRnSfEV4UMWmVMsQ"},N=(n(33),function(){return Object(f.jsx)("div",{class:"loadingio-spinner-spinner-mr9qhh1p7a",children:Object(f.jsxs)("div",{class:"ldio-14qjjyecclv",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})})}),q=(n(34),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={itemList:null,idx:1},e.onClickTrending=function(){e.state.idx<24?e.setState({idx:e.state.idx+1}):e.setState({idx:0})},e.copyLink=function(e){navigator.clipboard.writeText(e);var t=document.getElementById("clipboard-copied");t.style.opacity="1",setTimeout((function(){t.style.opacity="0"}),1e3)},e.renderItems=function(t){return t.map((function(t){var n=t.id,r=t.url,a=t.title;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{className:"image",src:r,alt:"x"},n),Object(f.jsx)("h2",{className:"heading",children:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 gif - "'.concat(a,'"')}),Object(f.jsxs)("p",{className:"clipboard",onClick:function(){return e.copyLink(r)},children:["\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",Object(f.jsx)("span",{id:"clipboard-copied",className:"clipboard-copied",children:"\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"})]})]})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then((function(t){e.setState({itemList:t})}))}},{key:"render",value:function(){var e=this.state,t=e.itemList,n=e.idx;if(!t)return Object(f.jsx)(N,{});var r=this.renderItems(t);return Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)("h3",{className:"wrapper__title",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"}),r[n],Object(f.jsx)("button",{className:"button",type:"button",onClick:this.onClickTrending,children:"\u0415\u0449\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]})}}]),n}(c.Component)),_=n.p+"static/media/sad-icon.73647baf.png",C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={itemList:null,idx:0},e.onClickSearch=function(){e.state.idx<24?e.setState({idx:e.state.idx+1}):e.setState({idx:0})},e.renderItems=function(t){return t.map((function(t){var n=t.id,r=t.url,a=t.title;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{className:"image",src:r,alt:"x"},n),Object(f.jsx)("h2",{className:"heading",children:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 gif - "'.concat(a,'"')}),Object(f.jsxs)("p",{className:"clipboard",onClick:function(){return e.copyLink(r)},children:["\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",Object(f.jsx)("span",{id:"clipboard-copied",className:"clipboard-copied",children:"\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"})]})]})}))},e.copyLink=function(e){navigator.clipboard.writeText(e);var t=document.getElementById("clipboard-copied");t.style.opacity="1",setTimeout((function(){t.style.opacity="0"}),1e3)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props;(0,t.getData)(t.query).then((function(t){e.setState({itemList:t}),console.log(t)}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.query!==e.query){console.log("Search item has been updated - props");var n=this.props;(0,n.getData)(n.query).then((function(e){t.setState({itemList:e}),console.log(e)}))}}},{key:"render",value:function(){var e=this.state,t=e.itemList,n=e.idx,r=this.props.query;if(!t)return Object(f.jsx)(N,{});if(0===t.length)return Object(f.jsxs)("div",{className:"sad-icon",children:[Object(f.jsx)("div",{className:"sad-icon-img",style:{backgroundImage:"url(".concat(_,")")}}),Object(f.jsx)("h4",{children:"\u0423\u0432\u044b, \u043f\u043e \u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043c\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438.."})]});var a=this.renderItems(t);return Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsxs)("h3",{className:"wrapper__title reverse",children:["\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430: ",r]}),a[n],Object(f.jsx)("button",{className:"button",type:"button",onClick:this.onClickSearch,children:"\u0415\u0449\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]})}}]),n}(c.Component),D=(n(35),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gifService=new S,e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.query;console.log("Query ".concat(e," recieved to the Gif component"));var t=e?Object(f.jsx)(C,{className:"search-item",query:e,getData:this.gifService.getSearchGif}):null;return Object(f.jsxs)("div",{className:"gif-container",children:[Object(f.jsx)("div",{className:"trending-item",children:Object(f.jsx)(q,{getData:this.gifService.getTrendingGif})}),Object(f.jsx)("div",{className:"search-item",children:t})]})}}]),n}(c.Component)),L=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gifService=new S,e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.query;console.log("Query ".concat(e," recieved to the sticker component"));var t=e?Object(f.jsx)(C,{className:"search-item",query:e,getData:this.gifService.getSearchSticker}):null;return Object(f.jsxs)("div",{className:"gif-container",children:[Object(f.jsx)("div",{className:"trending-item",children:Object(f.jsx)(q,{getData:this.gifService.getTrendingSticker})}),Object(f.jsx)("div",{className:"search-item",children:t})]})}}]),n}(c.Component),I=(n(36),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={query:null},e.handleQuery=function(t){e.setState({query:t}),console.log("query recieved to the app")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(f.jsx)(j.a,{children:Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(v,{}),Object(f.jsx)(O,{handleQuery:this.handleQuery}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{path:"/",element:Object(f.jsx)(D,{query:e})}),Object(f.jsx)(h.a,{path:"/stickers",element:Object(f.jsx)(L,{query:e})})]})]})})}}]),n}(c.Component));n(37),n(38);s.a.render(Object(f.jsx)(I,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.05c81761.chunk.js.map
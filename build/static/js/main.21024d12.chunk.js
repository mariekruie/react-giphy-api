(this.webpackJsonpgiffy=this.webpackJsonpgiffy||[]).push([[0],{19:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(14),a=n.n(c),i=n(3),s=n(5),o=n(7),u=n(6),l=n(11),d=n(2),j=(n(19),n(0)),h=function(){return Object(j.jsx)("div",{className:"header",children:Object(j.jsxs)("div",{className:"header__links",children:[Object(j.jsx)(l.b,{className:function(e){return e.isActive?"active":""},to:"/",children:"GIF-\u043a\u0438"}),Object(j.jsx)(l.b,{className:function(e){return e.isActive?"active":""},to:"/stickers",children:"\u0421\u0442\u0438\u043a\u0435\u0440\u044b"})]})})},p=n.p+"static/media/search-solid.cc51b702.svg",b=(n(21),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={query:null},e.handleInput=function(t){e.setState({query:t.target.value})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.handleQuery,t=this.state.query;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{className:"search-form",onSubmit:function(n){n.preventDefault(),e(t)},children:[Object(j.jsx)("input",{className:"search-input",placeholder:"\u043d\u0430\u0439\u0442\u0438 gif",onChange:this.handleInput}),Object(j.jsx)("button",{type:"submit",className:"search-btn",children:Object(j.jsx)("img",{src:p,alt:"a"})})]})})}}]),n}(r.Component)),f=n(8),m=n.n(f),v=n(10),g=function e(){var t=this;Object(i.a)(this,e),this.getResource=function(){var e=Object(v.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if(r=e.sent){e.next=5;break}throw new Error("Could not fetch ".concat(n,", status: ").concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTrendingGif=Object(v.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("gifs/trending?".concat(t.api_key,"&limit=25&rating=g"));case 2:return n=e.sent,e.abrupt("return",n.data.map(t._transformGif));case 4:case"end":return e.stop()}}),e)}))),this.getSearchGif=function(){var e=Object(v.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("gifs/search?".concat(t.api_key,"&q=").concat(n,"&limit=25&offset=0&rating=g&lang=ru"));case 2:return r=e.sent,console.log("Searh data has been recieved"),e.abrupt("return",r.data.map(t._transformGif));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformGif=function(e){return{id:e.id,title:e.title,url:e.images.fixed_height.url}},this.getTrendingSticker=Object(v.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("stickers/trending?".concat(t.api_key,"&limit=25&rating=g"));case 2:return n=e.sent,e.abrupt("return",n.data.map(t._transformSticker));case 4:case"end":return e.stop()}}),e)}))),this.getSearchSticker=function(){var e=Object(v.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("stickers/search?".concat(t.api_key,"&q=").concat(n,"&limit=25&rating=g&lang=ru"));case 2:return r=e.sent,e.abrupt("return",r.data.map(t._transformSticker));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformSticker=function(e){return{id:e.id,title:e.title,url:e.images.fixed_height.url}},this._apiBase="https://api.giphy.com/v1/",this.api_key="api_key=D9qSL0PObXXf0KxOyRnSfEV4UMWmVMsQ"},O=(n(23),function(){return Object(j.jsx)("div",{class:"loadingio-spinner-spinner-mr9qhh1p7a",children:Object(j.jsxs)("div",{class:"ldio-14qjjyecclv",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})}),x=(n(24),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={itemList:null,idx:1},e.onClickTrending=function(){e.state.idx<24?e.setState({idx:e.state.idx+1}):e.setState({idx:0})},e.copyLink=function(e){navigator.clipboard.writeText(e);var t=document.getElementById("clipboard-copied");t.style.opacity="1",setTimeout((function(){t.style.opacity="0"}),1e3)},e.renderItems=function(t){return t.map((function(t){var n=t.id,r=t.url,c=t.title;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{className:"image",src:r,alt:"x"},n),Object(j.jsx)("h2",{className:"heading",children:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 gif - "'.concat(c,'"')}),Object(j.jsxs)("p",{className:"clipboard",onClick:function(){return e.copyLink(r)},children:["\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",Object(j.jsx)("span",{id:"clipboard-copied",className:"clipboard-copied",children:"\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"})]})]})}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then((function(t){e.setState({itemList:t})}))}},{key:"render",value:function(){var e=this.state,t=e.itemList,n=e.idx;if(!t)return Object(j.jsx)(O,{});var r=this.renderItems(t);return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)("h3",{className:"wrapper__title",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"}),r[n],Object(j.jsx)("button",{className:"button",type:"button",onClick:this.onClickTrending,children:"\u0415\u0449\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]})}}]),n}(r.Component)),y=n.p+"static/media/sad-icon.73647baf.png",k=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={itemList:null,idx:0},e.onClickSearch=function(){e.state.idx<24?e.setState({idx:e.state.idx+1}):e.setState({idx:0})},e.renderItems=function(t){return t.map((function(t){var n=t.id,r=t.url,c=t.title;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{className:"image",src:r,alt:"x"},n),Object(j.jsx)("h2",{className:"heading",children:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 gif - "'.concat(c,'"')}),Object(j.jsxs)("p",{className:"clipboard",onClick:function(){return e.copyLink(r)},children:["\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",Object(j.jsx)("span",{id:"clipboard-copied",className:"clipboard-copied",children:"\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"})]})]})}))},e.copyLink=function(e){navigator.clipboard.writeText(e);var t=document.getElementById("clipboard-copied");t.style.opacity="1",setTimeout((function(){t.style.opacity="0"}),1e3)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props;(0,t.getData)(t.query).then((function(t){e.setState({itemList:t}),console.log(t)}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.query!==e.query){console.log("Search item has been updated - props");var n=this.props;(0,n.getData)(n.query).then((function(e){t.setState({itemList:e}),console.log(e)}))}}},{key:"render",value:function(){var e=this.state,t=e.itemList,n=e.idx,r=this.props.query;if(!t)return Object(j.jsx)(O,{});if(0===t.length)return Object(j.jsxs)("div",{className:"sad-icon",children:[Object(j.jsx)("div",{className:"sad-icon-img",style:{backgroundImage:"url(".concat(y,")")}}),Object(j.jsx)("h4",{children:"\u0423\u0432\u044b, \u043f\u043e \u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043c\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438.."})]});var c=this.renderItems(t);return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsxs)("h3",{className:"wrapper__title reverse",children:["\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430: ",r]}),c[n],Object(j.jsx)("button",{className:"button",type:"button",onClick:this.onClickSearch,children:"\u0415\u0449\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]})}}]),n}(r.Component),S=(n(25),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gifService=new g,e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.query;console.log("Query ".concat(e," recieved to the Gif component"));var t=e?Object(j.jsx)(k,{className:"search-item",query:e,getData:this.gifService.getSearchGif}):null;return Object(j.jsxs)("div",{className:"gif-container",children:[Object(j.jsx)("div",{className:"trending-item",children:Object(j.jsx)(x,{getData:this.gifService.getTrendingGif})}),Object(j.jsx)("div",{className:"search-item",children:t})]})}}]),n}(r.Component)),N=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).gifService=new g,e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.query;console.log("Query ".concat(e," recieved to the sticker component"));var t=e?Object(j.jsx)(k,{className:"search-item",query:e,getData:this.gifService.getSearchSticker}):null;return Object(j.jsxs)("div",{className:"gif-container",children:[Object(j.jsx)("div",{className:"trending-item",children:Object(j.jsx)(x,{getData:this.gifService.getTrendingSticker})}),Object(j.jsx)("div",{className:"search-item",children:t})]})}}]),n}(r.Component),w=(n(26),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={query:null},e.handleQuery=function(t){e.setState({query:t}),console.log("query recieved to the app")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(j.jsx)(l.a,{children:Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(h,{}),Object(j.jsx)(b,{handleQuery:this.handleQuery}),Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{path:"/",element:Object(j.jsx)(S,{query:e})}),Object(j.jsx)(d.a,{path:"/stickers",element:Object(j.jsx)(N,{query:e})})]})]})})}}]),n}(r.Component));n(27),n(28);a.a.render(Object(j.jsx)(w,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.21024d12.chunk.js.map